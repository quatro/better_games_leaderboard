- prev_disabled = current_page == 1
- next_disabled = current_page.to_i == last_page.to_i

%hr
.row
  .col-xs-2.col-md-1.text-center.full
    =link_to '1', '#', id:'first', class:'btn btn-default btn-primary btn-mobile'
  .col-xs-2.col-md-1.text-center.full
    =link_to 'Prev', '#', id:'prev', class:'btn btn-default btn-warning btn-mobile', disabled:prev_disabled
  .col-xs-2.col-md-1.text-center.full
    %span.well.well-padding #{current_page}
  .col-xs-2.col-md-1.text-center.full
    =link_to 'Next', '#', id:'next', class:'btn btn-default btn-warning btn-mobile', disabled:next_disabled
  .col-xs-2.col-md-1.text-center.full
    =link_to last_page.to_s, '#', id:'last', class:'btn btn-default btn-primary btn-mobile'


  .col-xs-2.col-md-1.text-center.full
    %input#gotopage.form-control{type:'text', placeholder:'Go To'}
%hr

.table-responsive
  %table.table.table-striped
    %thead
      %tr
        %th.col-sm-1 Pos
        %th.col-sm-3 Name
        %th.col-sm-1 Points
        %th.nowrap 17.1
        %th.nowrap 17.2
        %th.nowrap 17.3
        %th.nowrap 17.4
        %th.nowrap 17.5

    %tbody
      - results['athletes'].each do |athlete|
        %tr
          %td #{athlete['overallrank']}
          %td #{athlete['name']}
          %td #{athlete['overallscore']}
          - athlete['scores'].each do |score|
            - scoredetails = score['scoredetails']
            - if scoredetails && scoredetails['breakdown']
              %td
                %button.poppy.btn.btn-default{type:'button', data:{toggle:"popover", placement:'top', container:'body', content:scoredetails['breakdown']}}
                  #{score['scoredisplay']}
            - else
              %td #{score['scoredisplay']}

:javascript
  $(document).ready(function(){
    $('.poppy').popover();

    $('#first').on('click', function(e){
      e.preventDefault();
      $('#filter_page').val('1');
      evaluate_current();
    });

    $('#last').on('click', function(e){
      e.preventDefault();
      $('#filter_page').val("#{last_page}");
      evaluate_current();
    });

    $('#prev').on('click', function(e){
      e.preventDefault();
      $('#filter_page').val("#{current_page.to_i - 1}");
      evaluate_current();
    });

    $('#next').on('click', function(e){
      e.preventDefault();
      $('#filter_page').val("#{current_page.to_i + 1}");
      evaluate_current();
    });


    $('#gotopage').on('change', function(e){
      e.preventDefault();
      $('#filter_page').val($(this).val());
      evaluate_current();
    });


  });